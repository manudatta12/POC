$(function(){function b(a,b,c){a.find(".stick_tooltip").each(function(){if(!$(this).hasClass("spinned")){$(this).fadeOut()}});if(b.animation){$("#sticky_tooltip").stop().animate({path:new $.path.move(parseInt(c.left),b.sinOut,"out",parseInt(c.top),b.sinYRange),opacity:"0"},b.speedOut,function(){$(this).remove()})}else{$("#sticky_tooltip").stop().remove()}}function a(a,b,c){$("#sticky_tooltip").remove();var d=a.find(".sticky_tooltip_content").html();var e=$("<div>",{id:"sticky_tooltip","class":"sticky_tooltip",html:"<p>"+d+'</p><span class="sticky_tooltip_arrow"></span>'}).css({display:"none","background-color":b.bgcolor,color:b.color});var f=b.position;$("body").prepend(e);var g=a.outerWidth();var h=a.outerHeight();var i=a.offset().left;var j=a.offset().top;var k=7;switch(f){case"TL":c={left:i,top:j+h+k+"px"};class_arrows="sticky_tooltip_arrow_TL";break;case"TR":c={left:i+g-e.width()+"px",top:j+h+k+"px"};class_arrows="sticky_tooltip_arrow_TR";break;case"BL":c={left:i+"px",top:j-k-e.height()+"px"};class_arrows="sticky_tooltip_arrow_BL";break;case"BR":c={left:i+g-e.width()+"px",top:j-k-e.height()+"px"};class_arrows="sticky_tooltip_arrow_BR";break;case"LT":c={left:k+i+g+"px",top:j+"px"};class_arrows="sticky_tooltip_arrow_LT";break;case"LB":c={left:k+i+g+"px",top:j+h-e.height()+"px"};class_arrows="sticky_tooltip_arrow_LB";break;case"RT":c={left:i-e.width()-k+"px",top:j+"px"};class_arrows="sticky_tooltip_arrow_RT";break;case"RB":c={left:i-e.width()-k+"px",top:j+h-e.height()+"px"};class_arrows="sticky_tooltip_arrow_RB";break;case"T":c={left:i+g/2-e.width()/2+"px",top:j+h-k+"px"};class_arrows="sticky_tooltip_arrow_T";break;case"R":c={left:i-e.width()-k+"px",top:j+h/2-e.height()/2+"px"};class_arrows="sticky_tooltip_arrow_R";break;case"B":c={left:i+g/2-e.width()/2+"px",top:j-e.height()+k+"px"};class_arrows="sticky_tooltip_arrow_B";break;case"L":c={left:i+g+k+"px",top:j+h/2-e.height()/2+"px"};class_arrows="sticky_tooltip_arrow_L";break}e.find("span.sticky_tooltip_arrow").addClass(class_arrows);a.find(".stick_tooltip").fadeIn();if(b.animation){e.stop().show().animate({path:new $.path.move(parseInt(c.left),b.sinEnter,"enter",parseInt(c.top),b.sinYRange),opacity:"1"},b.speedEnter,function(){$(this).css("zIndex","100")})}else{e.stop().css(c).css("zIndex","100").show()}return c}$.path={};$.path.move=function(a,b,c,d,e){this.css=function(f){var g=0;if(b)g=Math.sin(5*f);var h=a-f*a;if(c=="out")h=(a-$(window).width())*f+$(window).width();var i=g*e+d;return{top:i+"px",left:h+"px"}}};$.fx.step.path=function(a){var b=a.end.css(1-a.pos);for(var c in b)a.elem.style[c]=b[c]};$.fn.stickyTooltip=function(c){var d={bgcolor:"black",color:"white",sinEnter:true,sinOut:true,sinYRange:100,speedOut:1500,speedEnter:2e3,position:"TL",animation:true};var e=0;var c=$.extend(d,c);this.each(function(d){var e=c.animation;var f=$(this);f.addClass("indexed");var g=f.index(".indexed");var h={};var i="";var j=c.bgcolor;var k=c.color;f.hover(function(){h=a(f,c,h)},function(){b(f,c,h)});f.prepend('<div class="stick_tooltip" title="stick tooltip"/>');f.find(".stick_tooltip").css({left:(f.width()-f.outerWidth())/2+"px",top:(f.height()-f.outerHeight())/2+"px"}).toggle(function(){$(this).addClass("spinned").attr("title","unstick tooltip");var a=$("#sticky_tooltip");a.hide();$("#sticky_tooltip_clone"+g).remove();var b=$("<div>",{id:"sticky_tooltip_clone"+g,"class":"sticky_tooltip",html:a.html()}).css($.extend({"background-color":j,color:k,"z-index":"100"},h));$("body").prepend(b);c.animation=false},function(){$(this).removeClass("spinned");$("#sticky_tooltip_clone"+g).remove();c.animation=e})})}})